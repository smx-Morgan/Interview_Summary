**什么是ACID**

原子性（Atomicity）

- 原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚，因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响。

一致性（Consistency）

- 事务开始前和结束后，数据库的完整性约束没有被破坏。比如A向B转账，不可能A扣了钱，B却没收到。

隔离性（Isolation）

- 隔离性是当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离

持久性 

+ 事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。

**数据库有哪些隔离等级**

![隔离等级](C:\Users\smx_Moragn\Desktop\简历\面试总结\隔离等级.png)

### 扩展

**Mysql如何保证acid**

A 原子性 由undo log来保证，执行失败后回滚

D 持久性靠 redo log来保证，宕机和停电之后可以通过redo log 最终将数据保存至磁盘中

I 隔离性 事务之间的读写靠的是MYSQL 的锁机制来保证隔离，事务间的读写操作靠MVCC机制来保证

C 一致性，事务的最终目的，即需要数据库层面的保证，又需要应用层的保证，Mysql底层通过两阶段提交事务保证了事务持久化时候的一致性

**redolog ,undolog和binlog**

binlog : binlog是 mysql server 层的一种二进制日志，用来记录数据库的写入操作，并以"事务"的形式保存在磁盘上，主要的使用场景有主从复制和数据恢复。

redo log : redo log （重做日志）是InnoDB存储引擎产生的，记录事务对数据页的修改，如果mysql挂了，重启后InnoDB会使用redo log恢复数据，保证了数据的持久性。

undo log: InnoDB事务修改数据之前会记录undo log并且持久化，undo log通过回滚事务指针形成了链表。undo log 有三个使用场景 1.通过rollback主动回滚事务， 2:MVCC ，3.崩溃恢复未完成的事务通过undo log回滚。

**提交读**

对于一个事务从开始直到提交之前，所做的任何修改是其他事务不可见的

**重复读**

就是对一个记录读取多次的记录是相同的，比如对于一个数A读取的话一直是A，前后两次读取的A是一致的；**可以阻止脏读和不可重复读，但幻读仍有可能发生**

1、脏读
脏读指的是读到了其他事务未提交的数据，未提交意味着这些数据可能会回滚，也就是可能最终不会存到数据库中，也就是不存在的数据。读到了并一定最终存在的数据，这就是脏读。

2、不可重复读
不可重复读指的是在一个事务内，最开始读到的数据和事务结束前的任意时刻读到的同一批数据出现不一致的情况。

3、幻读

幻读，并不是说两次读取获取的结果集不同，幻读侧重的方面是某一次的 select 操作得到的结果所表征的数据状态无法支撑后续的业务操作。更为具体一些：select 某记录是否存在，不存在，准备插入此记录，但执行 insert 时发现此记录已存在，无法插入，此时就发生了幻读。
